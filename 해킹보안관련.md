도스는 Denial of Service -> 서비스거부공격 (서비스를 못하게)
원래는 서버 대상으로 한 공격이다.
롤서버가 다운되게끔
이게 도스공격이다.

요즘에는 한대로 공격하기 힘들다. 그래서 디도스가 생긴다.
한대로 공격하는게 아니라 여러대로 공격하겠다.

요새서버는 스펙,네트워크대역, 디도스방어장비들이 있어서 한대로 공격하기 힘들다.
그래서 도스를 그냥 디도스라고도 부른다.

과거 디도스목적은 돈이였다. 디도스 푸는 목적으로

요즘 트랜드는 서버공격하기가 힘들기 때문에 봇넷을 많이꾸린다. 즉 좀비pc를 늘린다.
근데 요새는 웬만한 봇넷수로도 서버를 다운시키기가 힘들다.

오히려 랜섬웨어가 수익이 더 나는 상황이다.
디도스가 잠잠해지다가 이제 다시 기승을 부리는데 대상을 클라이언트로 바꾸면서 시작됐다.

#)디도스 전략
1. 프로그램의 취약점
- 롤 프로그램안에서 부하를 줄 수있는 취약점이 있다고 할때 부하 요청을 계속보내는 거다.
친구요청의 취약점이 있을때 친구요청을 계속보내는 방식
-> 결과: 프로그램 팅김

2. 네트워크 대역폭을 가득채운다
- 그냥 무식하게 네트워크 대역폭을 가득채움.
-> 결과: 인터넷끊김

롤 같은 상태는 공통점이 인터넷이 끊겼다는 것이다.
롤 프로그램의 취약점이 아니라 네트워크 대역폭을 가득 채운 방식인것이다.

네트워크 대역폭 디도스공격은 IP를 알아야되는데
어떻게 알았지??

롤은 클라이언트-서버 구조인데 과거 p2p방식은 옛날게임과 같이
방을 만들면 내가 서버가 되서 내 컴퓨터에 상대방의 ip가 남아있는 방식이다.
그래서 안들어가지면 방화벽을 오픈해줘야 했었다.

근데 롤은 p2p처럼 서로 통신하는게아니라 서버로만 클라이언트들이 통신을 한다.
즉 내 컴퓨터에 남아있는 ip는 롤주소 ip밖에 남아있지 않다는 말이다.
그렇다면 다른 클라이언트들의 ip주소는 남아있지 않다는 것이다.

swissknife leaguePuller라는 프로그램이 기사에 떳는데
롤 플레이어의 ip주소를 가져올수 있는 프로그램이다.

어떻게 가능하지?..
Riot API 인데 이걸로 만든 사이트가 op.gg(전적관리) 인데
확실한건 플레이어의 정보를 return한다는것이다. 누구랑 싸우고 닉넴, puuid까지 나올수있다.

추측컨대 IP주소를 return하는 취약점이 Riot API 에 존재하지 않을까 하는 가정이다.

그 다음 후보는 롤 프로그램 취약점이다.
-> 플레이어끼리 직접 패킷을 주고 받는 기능이 생겼다면 IP를 알아낼 수있다.

#)그럼 우리는 어떻게 대응하지?
vpn이다.

#) 단 vpn이 유로일떄이다. 무료는 쓰지마라.
내컴퓨터 - vpn서버 - 디도스방버장비(대부분존재-> 쓸데없는 패킷 걸러줌)

만약 ip주소가 유출되었다면 ipconfig, ifconfig에 있는 ip주소를 바꾸는게 아니라
외부ip를 바꿔야한다. 아래사진처럼 맥주소를 바꾼다.

<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/1.PNG" width="700" height="500" /><br><br>

```
IP주소 유출 방법
-> 웹사이트 링크 (즉, 두대의 컴퓨터가 통신)

1. 링크 클릭 조심(웹서버에 기록됨)

#)디도스범 잡기
디도스범은 잡기가 힘들다. 네트워크 대역을 가득채워서 보내는데 자기대역 ip로 안보내도된다.
그래서 패킷을 분석한다해도 이상한 ip주소가 가득하다.

근데 만약에 디도스범이 지능이 낮으면 범죄자 컴퓨터로만 정직하게 패킷을 날리면 잡을 수있다.

#) 소스코드가 유출되었다라는 것은 요즘에 소스코드를 넣고 취약점을 찾아주는 프로그램도 있다.
-> 심각한문제다. 다시 만들어야 하는 정도.

#)스파게티 코드라는 것은 난잡하고 지저분하다는 것인데. 보통 다른 회사코드가 난잡하다.


===================================

#) xz백도어 사태

일단 컴퓨터를 장악하는 방법은 
1. 물리해킹 (직접 명령실행)
2. 간접해킹 (악성코드 메일로 보내)
3. 치밀한 간접실행 (프로그램안에다가 악성코드 삽입 - 프로그램실행하면 악성코드 발생)
4. 정정당당
- 신뢰하는 프로그램에 악성코드 삽입

이런걸 공급망 공격이라 한다.

2019년 ASUS의 소프트웨어 업데이트 시스템에 해킹당했는데.
ASUS쓰는 사람들이 악성코드가 자동적으로 다운받아진다.
실제 백도어를 수천만대에다가 설치하는 사건이 있었다.

이런게 공급망공격인데 사람들이 어쩔 수 없이 쓰는 프로그램에다가 악성코드를 퍼뜨리는 것이다.

근데 이런게 직접 회사에 취업하는 거 말고는 방법이 딱히 없으니

오픈소스를 건드리게 된다.

그게 바로 xz백도어 사건이다.

이 xz 라는것은 리눅스의 압축 프로그램이다.
lzma라는 압축 알고리즘을 적용한 프로그램이다.

이거 xz에 백도어가 심어졌다? 
모든 리눅스에 백도어가 심어졌다는 의미이다.

xz를 만든사람은 라세 콜린인데 투카니 프로젝트에서 시작됐는데 투카니는 잘안됐는데
xz는 리눅스에서 이곳저곳 차용하기 시작했다.
xz는 라세 콜린이 관리하고 있었는데 
오폰소스라는게 관리자가 존재한다. 실제로 메인테이너라고 하는데 오픈소스라고 해도
누구나 수정하면 안되니까 메인테이너가 검토하고 적용한다.

2005년부터 2024년까지 라세콜린이 혼자 개발하고 관리 했다. 무상으로

2021년에 지아 탄이라는 사람이 도와주는데 이 사람에게 관리자 권한을 주는데
드디어 지아 탄이라는 사람이 투카니 프로젝트에 참여하는데 관리자로서 1년 동안
지아 탄이 열심히하는데 사실 블랙 해커였다.

전 부터 다른 곳에 찔러봤는데 관리자 권한을 안줬는데 여기는 주네?

2023년부터 지아 탄이라는 사람이 본업을 시작하는데
백도어를 심어서 뿌릴려고 했다.

ssh서비스 공격을 이용하는데 RSA_public_decrypt 함수가 있는데 이거를 후킹해서
이 함수가 실행될때마다 어떤 코드가 실행되게 만든것이다.

준비는 다 끝났고 이제 xz-5.6.0을 베포한다고 선언을 하는데
에러가 발생하게 된다.

gentoo리눅스에서 새로운 배포판을 xz를 들고와서 만드는데
충돌이 남.

지아 탄이 바로 수정해서 5.6.1을 내놓고 홍보까지한다.

이렇게 배포가 되는데
백도어 특징이라는게 어떤 특정조건에서만 실행되게 했다.
은밀, 기밀성 때문이다.

정보보안전문가들이 분석이 힘들다. 내컴퓨터는 잘되는데? 즉, 재현이 힘들다.

이렇게 배포까지 할려고 하는데 실패로 돌아갔다.
바로 안드레스 프런드 라는 사람덕분인데 ms개발 출신인데

어떻게 찾았느냐???
이 사람이 프로젝트를 만드는데 리눅스 가상머신 ssh 연결 타이밍을 측정을 하고 있었다.
근데, 어라? ssh 연결이 느리다? 
이게 0.5초 반응이 느린데? 분석을하는데
ssh 연결될떄 cpu 사용량이 치솟아서 시간이 늘어났던것이다.
이거를 분석해서 찾았던것이다.

근데 충격적인게 이거 해킹할려고 2년동안 열심히 성실근무 한거야?
너무지독한데?

보통 블랙해커는 이렇게 오래 끌지 않는다.
그렇다면 오피셜해커? -> 몇년동안 금전적인 지원을 받아서

APT공격은 특정목적으로 가지고 특정조직을 오랜시간동안 공격이 하는것이다.
그래서 보통 오피셜해커들이 진행을 한다.

그래서 오픈소스 이거 믿을만한가? 메인테이너 들에게 뭔가 복지나 그런게 필요하다? 그런 생각이 드는 사건.
```
#)다크웹 vs 딥웹
딥웹은 즉 특정한 사람만 들어갈 수 있는 검색엔진으로 들어갈 수 없는 거(메일함, 카페에서 회원만볼수있는 그런거)
검색엔진 robots.txt -> 즉, 구글같은 애들이 찾아낼 수 없도록 만든 것들

다크웹은 특정 네트워크를 통해서만 접근이 가능한것
특별한 브라우저, 특별한 네트워크

오픈웹안에 딥웹이있고 다크웹이 있다.

실수로 다크웹에 들어갈리는 없다. 노력이 필요한게 다크웹이다.

토르네트워크는 왜 쓸까?
1. ip우회
- 내가 어떤 사이트로 들어갈때 한국은 불법일때 다른 ip주소가 필요하다
토르네트워크를 쓰면 내 Ip 주소가 바뀐다.

2. 언론
- 표현의 자유를 위해서 쓰는 사람도 있다.

3. 익명 나를 숨기기 위해
- 나는 정부의 검열이 싫다. 
예를들어 네이버에 총기관련 검색했더니 경찰에 연락이 온 사건이 있었다.
그래서 익명으로 인터넷으로 쓰고 싶을때 토르네트워크를 쓴다.

```
#)워게임이란 해킹할시스템에 비밀코드를 찾는게임
반딧은 ssh로 반딧시스템에 접속한다.
처음에는 bandit0이라는 계정으로 로그인할것이다.
그 다음에 bandit1의 비밀번호를 찾으면 첫단계클리어다.

그다음에 bandit2의 비밀번호를 찾고 이렇게 진행한다.

ssh [계정]@[시스템주소] -p 포트번호

> ssh bandit0@bandit.labs.overthewire.org -p 2220
패스워드는 bandit0 이다.

cat /etc/passwd | grep bandit0 에서 홈디렉토리를 본다.
/home/bandit0 이라 되있는데 여기에 readme라는 파일이 있고 여기에 비밀번호가있다.
암호화 되있는 것처럼 보이지만 그대로 복사해서 넣으면된다.

exit로 로그아웃 후에 

> ssh bandit1@bandit.labs.overthewire.org -p 2220
> 암호입력
```
```
#)1->2단계
지문을 보면 홈디렉토리에 "-"라는 파일에 있다.

근데 cat - 를 입력하면 안된다. more - 이것도 마찬가지다. vim - 도 똑같다.
왜 안될까? -> 명령어 뒤에 - 를 쓰면 옵션 또는 stdin으로써 인식한다.(입력대기)

cat - 를 입력하면 
123
123
123 이렇게 입력할 수 있다.

그러면 어떻게 파일을 읽지? -> 전체경로를 적으면된다.
 cat /home/bandit1/- 

또 다른 방법은(현재위치가 홈디렉토리에 있을떄)
cat ./- 
```
```
#)2->3단계
지문을 보면 띄어쓰기가 있는 파일에 패스워드가 저장되있다고 한다.
파일이름이 spaces in this filename 이다.

첫번쨰방법은 
> cat "spaces in this filename"

두번째방법은 공백을 특수문자로 인식하지못하게
> cat spaces\ in\ this\ filename

```
```
#)3->4단계
지문을 보면 inhere라는 디렉토리안에 숨김파일에 있다.

ls -la 로보면됨
```
```
#)4->5단계
inhere를 보면
"-file00" ~ 09 까지있다. (-포함)

cat ./-file00 을보면 글자가 깨져서 보인다.

파일타입을 보기위해서는 
> file ./-file00
./-file00 :data

한꺼번에 보기위해서는
> file ./*  

이렇게 한꺼번에보면 -file07만 아스키텍스트 파일이다.(사람이있을수있는 코드체계)
```
```
#)5->6
inhere 어딘가에 있고 사람이읽을수있고 1033바이트, 실행할수없는..

inhere에 보면 20개 디렉토리가 있고 안에보면 파일도 많다...
그러면 어떻게 찾지.

find에서
-type f : 읽을수있는
-size 1033c : 1033바이트
! -executable : 실행할수없는

> find ./ -type f -size 1033c ! -executable
```
```
#)6->7
지문에서 소유자 bandit7, 그룹은 bandit6, size는 33byte
위치는 서버 전체에 있다.

> find / -user bandit7 -group bandit6 -size 33c
이렇게 하면 permission denied가 뜬다.
루트위치부터 찾으니까...
근데 나는 에러 말고 우리꺼만 보고싶다.

> find / -user bandit7 -group bandit6 -size 33c 2> /dev/null
```
```
#)7->8
data.txt에 보면 특정문자열 옆에 비밀번호가 있다.
근데 엄청 많네 글이... 문제에서는 millonth 문자열옆에 있다고 나와있다.

> vim data.txt
vi모드 진입 후 /millionth (검색)

또다른 방법은
cat data.txt | grep millionth

또는
grep millionth ./data.txt

```
```
#) 8->9
data.txt에 유일하게 한번 등장하는 문자열 옆에 비밀번호가있다.

qwdvve1e
qdcreg223
13rfsdvsd
...

uniq는 반복된 줄을 다 지워버린다.
일단 정렬을 하자(똑같은 애들은 묶게끔)

> sort data.txt | uniq -u (-u는 한번만 나오는거 출력해라)
```
```
#) 9->10
사람이읽을 수 있는 문자만 추출해보자

//바이너리에서 문자열을 분석하기도 하는데 이때 쓰임
> strings data.txt
사람이 읽을 수 있는 글자만 출력해준다.
문제에서는 "=" 에 있다고 나옴.

> strings data.txt | grep =
```
```
#) 10->11
base64 인코딩된 데이터이다.

인코딩과 암호화의 차이는
암호화에는 키를 사용하는것이다.
인코딩은 암호키가 없어도 디코딩을 통해 바로 알 수 있다.

base64 인코딩문자열은 보통 끝에 = ,== 이 붙는다.

디코딩을 해보자
> base64 --decode data.txt
```
```
#)11->12
abc~ 한칸씩이동
bcd~ 이게 바로 몇칸씩 움직였는지가 키이다. 이게 암호화이다.

이게 ROT라는 암호화 방식이다.

이거를 13만큼 칸을 이동하는건데 ROT13이라한다.

ROT13.com으로 가서 복호화를 할 수 있고

tr이라는 명령어를 쓸 수있다. 
> tr a b  -> a라는 글자를 b로 바꾸겠다.
> tr '[A-Za-z]' '[N-ZA-Mn-za-m]'
                 //A(N)부터 Z까지먼저 
                 //A(N), B(O), C(P)... M(Z)
                 //N(A), O(B), P(C)... Z(M)
                 //소문자도 마찬가지
> cat data.txt | tr '[A-Za-z]' '[N-ZA-Mn-za-m]'
```
```
#)12->13
file안에는 
101110110101 이런식으로 저장되있는데
이거를 hex로 만들어 두었다.
f1 2f 2d 머 이런식으로

data.txt를 cat으로 보면
```

```
아래처럼 16진수로 저장되있다.

이 파일을 다시 바이너리 파일로 즉, 숫자로 바꿀것이다.

> mkdir /tmp/normaltic
> cp data.txt /tmp/normaltic/
> cd /tmp/normaltic

먼저 바이너리로 복구하자
xxd는 hexdump로 만들어주는 명령어인데 우리는 반대이기 때문에 -r 옵션을 붙힌다.

> xxd -r data.txt > bandit  (bandit이라는 파일로만든다.)
> file bandit으로 보면
gzip으로 압축된 파일이라 나온다.

> mv bandit bandit.gz (확장자변경)
> gunzip bandit.gz
이렇게하면 bandit이라는 파일이 만들어진다.

이거는 bzip2로 되어있는데

> mv bandit bandit.bz2
> bzip2 -d bandit.bz2

> file bandit 로 보면
gzip으로 되있다.

> mv bandit bandit.gz
> gunzip bandit.gz

> file bandit
posix tar archive 로 나오는데 tar로 풀면됨
> mv bandit bandit.tar
> tar -xvf bandit.tar

data5.bin 이 생기는데 파일타입이 또 posix tar로 되있다.

 > mv data5.bin data5.tar
 > tar -xvf data5.tar

 data6.bin이 생기는데 bzip2 파일타입이 생김

 > mv data6.bin data6.bz2
 > bzip2 -d data6.bz2

 data6가 생기는데 tar posix니까 

 > mv data6 data6.tar
 > tar -xvf data6.tar

이런식으로 하면 ascii파일이 나오고 그게 비밀번호다. 
```


<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/2.PNG" width="700" height="500" /><br><br>

```
#) 13->14
대칭 암호 / 비대칭 암호

* 대칭 암호
-> 암호화 할때, 복호화 할때 사용하는 키가 똑같은 암호

* 비대칭 암호
-> 암호화 할떄랑 복호화 할때 사용하는 키가 다른 암호
-> 예를 들어 A라는 키와 B라는 키가 있다면 하나는 암호화, 하나는 복호화할때 쓰인다.
-> 공개키/비밀키라고도 한다.

ssh에서
client가 ssh로그인하려면 아이디,비밀번호가 필요한데.
이 아이디와 비밀번호를 매번 주고받으면서 로그인하기가 싫고 비밀번호가 
노출될 위험이 있기때문에 비대칭암호를 쓴다.

그래서
ssh에 본인의 공개키를 등록해둔다.
즉, 서버에는 공개키를 등록해두고 개인키는 본인만 가지고있는다.

그러면 클라이언트는 본인의 비밀키를 이용해서 암호화 해서 보낸다.
ssh서버는 공개키로 복호화한다.

        //비밀키
> ssh -i sshkey.private bandit14@localhost -p 2220
```
```
#)14->15
localhost에 30000포트에 데이터를 전달해라

nc [system address] [port]

> nc localhost 30000
adwasdadawd 막 아무거나 데이터입력 후
엔터하면 데이터가 전송되는데 우리는 비밀번호를 넘겨야한다.

14의 비밀번호는 /etc/bandit_pass/bandit14이다.

위에서 구한 14번 비밀번호를 넘기면 15번 비밀번호가 나온다.
```

```
#)15->16
이번에는 30001포트에 데이터보내는데 SSL암호화통신을 사용해서 데이터를 보내라

* SSL
nc는 기본적으로 TCP통신을한다.
nc를 써서 로그인했다 치면 글자그대로 네트워크 타서 서버로 가는데
중간에 가로채서 보면 아이디,비밀번호 노출 가능성있다.

그래서 SSL 암호화이다. TLS라고도 한다.

openssl이라는 프로그램 사용

> openssl s_client -connect localhost:30001 
이렇게하면 암호화연결을 한것이다.

이 후 현재 15의 비밀번호를 치면 16의 비밀번호가 나온디.
```
```
#)16->17
31000~32000사이에 포트중에 하나 포트가 열려있고
SSL통신하고 있는아이를 찾아서 비밀번호를 보내라. 그럼 17비밀번호가 나올것이다.

** 포트 스캔
TCP연결을 시도해봐야한다.
//-nv는 상세결과를 보겠다.
// -w 1 -z 연결만하겠다. 여기까지가 포트스캔 기본적으로 많이쓰인다.
> nc -nv -w 1 -z

//다시 보면
> nc -nv -w 1 -z 127.0.0.1 31000-32000
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/3.PNG" width="700" height="500" /><br><br>

```
위 사진처럼 5개 포트만 연결되있다를 볼 수있고 여기서 SSL통신하는 것을 찾아야한다.

> openssl s_client -connect localhost:31960
> openssl s_client -connect localhost:31790 -ign_eof (KEYUPDATE 무시 k가 들어가있으면 뜨는 내부동작같음)
여기서 31790이 SSL통신하는 것을 볼 수 있다.
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/4.PNG" width="700" height="500" /><br><br>

```
위에서 대기모드(입력)로 바뀌면 현재비밀번호를 넣으면
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/5.PNG" width="700" height="500" /><br><br>

```
위에 사진처럼 개인키가 나오는데 이걸 복사해서

> mkdir /tmp/bandit16_normaltic
> vi sshkey
붙여넣기(다 붙여넣어야됨)

이렇게 비밀키를 저장하고
이걸 이용해서 로그인하자

> ssh -i sshkey bandit17@localhost
근데 만든 sshkey라는 파일을 보면 rw-r--r--이다
즉, ssh명령어가 소유자만아니라 다른사용자도 읽을 수 있네?
라고 헤서 로그인을 안시켜준다.

그래서 chmod 600 으로 해준다.
```
```
#)17->18
한줄만 바뀐 곳을 찾아라

* diff
> diff passwords.new passwords.old
42c42
< kff12ec (여기가new 즉, 이부분이 다르다 이게 bandit18비밀번호다)
---
> qcascefwe (여기가old)
```
```
#)18->19
근데, 위에서 로그인이 안되네?? 풀어보자
.bashrc를 누군가 수정했다??

.bashrc는 
-> /bin/bash 를 쓸때 저 .bashrc가 실행된다.

즉, 로그인하고 .bashrc가 실행되는데 
.bashrc안에는
echo byebye~
exit
으로 되어있어서 로그인도 못하고 튕김.

단, diff에서 구한 비밀번호 있어야함

> ssh bandit18@bandit.labs.overthewire.org -p 2220 id
이렇게 ssh뒤에 명령어도 쓸 수 있다.
이렇게안되면 윈도우 cmd로 실행해야함. ssh bandit18@bandit.labs.overthewire.org -p 2220 "id"
이렇게 하면 .bashrc안타고 id를 출력하면서 로그인이 되는 걸 볼 수 있다.

우리는 bashshell쓰면 튕기니까 그냥 빈쉘을 실행
> ssh bandit18@bandit.labs.overthewire.org -p 2220 /bin/sh
이렇게 하면 아무반응이 안나오지만
이게 실행된거임.
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/6.PNG" width="700" height="500" /><br><br>

```
위에처럼 빈 프롬프트 상태가 되면서 id라는 명령어도 실행가능하다.

> ls
readme

> readme
3ASc2312rf (19의 비밀번호가 나온다.)
```
```
#)19->20
* setuid binary 

- setuid
특수권한 : 파일을 실행할 때만큼은, 그사용자, 소유자의 권한으로 실행하게 해주는 권한.

아래파일을 실행하는 만큼은 baddit20으로 실행하는 것이다.

```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/7.PNG" width="700" height="100" /><br><br>

```
> ./bandit20-do 스크립트 실행해보면
Run a command as another user.
    Example: ./bandit20-do id
라고 나오는데

즉, 다른계정으로 해서 뒤에 명령어를 붙이면 20의 권한으로 명령어가 실행.
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/8.PNG" width="700" height="100" /><br><br>

```
위에처럼 나온다. euid도 나온다. 20으로

이렇게 하면 bandit20만 읽을 수 있는 비밀번호를 보자
> ./bandit20-do cat /etc/bandit_pass/bandit20
```
```
#)20->21
문제는 자기의 비밀번호를 보내면 상대방도 본인 비밀번호를 응답해준다.
nc를 통해서 데이터를 주고받을 수 있느냐

먼저 20으로 로그인을 터미널 두개를 열어서 ssh로 한다.

이상태에서 포트를 연다
> nc -lnvp 7777
listening on [any] 7777 ... 이렇게 기다리고있다.


또 하나의 터미널에서는 실행파일이 있는데
해당 파일은 setuid가 걸려있고 bandit21로 소유자가 되어있다. 
> ./suconnect 7777 이렇게 하면 이제 두 터미널은 연결이 된것이다 

이제 20의 비밀번호를 넘겨주면 ./suconnect에서는 21의 권한으로 실행이 되어있으니까
bandit21의 비밀번호를 넘겨준다.
```
```
#)21->22
cron 설정파일을 보고 어떤 프로그램이 실행중인지 확인

* cron
> 스케줄 프로그램

> cd /etc/cron.d/
> cat cronjob_bandit22
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/9.PNG" width="700" height="100" /><br><br>

```
매분마다 cronjob_bandit22.sh 가 실행되고 있다는 말이다.
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/10.PNG" width="700" height="100" /><br><br>

```
매분 bandit22 비밀번호를 /tmp/t706~ 에 다가 저장하고있다.
해당 파일을 보면 비밀번호가 있다.

* * * * *
분 시 일 월 요일
```
```
#)22->23
> cd /etc/cron.d
> cat cronjob_bandit23
> echo I am user bandit23 | md5sum | cut -d ' ' -f 1
이렇게 하면 이상한문자열이 나오는게 그게 $mytarget이다.
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/11.PNG" width="700" height="100" /><br><br>

```
분석방법
1) 정적분석
-> 실행하지않고

2) 동적분석
-> 실행
```
```
#)23->24
23계정으로 접속한 상태이다. 그래서 24계정비밀번호를 알려면 직접못들어가니까
cron으로 분석하고 비밀번호를 얻어야됨

이 문제도 cron문제인데 아래 스크립트가 
#!/bin/bash

myname=$(whoami)

cd /var/spool/$myname //bandit24에 저장(해당 스크립트가 bandit24.sh라서 bandit24권한으로 실행되서)
echo "Executing and deleting all scripts in /var/spool/$myname:"
for i in * .*; //디렉토리에 있는 모든 스크립트를 가져와서 실행!!!(normal.sh) 후 삭제
do
    if [ "$i" != "." -a "$i" != ".." ];
    then
        echo "Handling $i"
        owner="$(stat --format "%U" ./$i)" //소유자를 가져와서
        if [ "${owner}" = "bandit23" ]; then
            timeout -s 9 60 ./$i  //1분뒤삭제
        fi
        rm -f ./$i
    fi
done


그렇다면 우리는 삭제(/var/spool/bandit24) 사이에 24계정의 비밀번호를 /tmp/~~에 저장하면될듯

> cd /var/spool/bandit24
> echo "cat /etc/bandit_pass/bandit24 > /tmp/normal_text" > normal.sh
즉, cat /etc/bandit_pass/bandit24 > /tmp/normal_text 명령어를 normal.sh에 저장 하겠다.

근데, 위방법은 안되는것이 bandit24에 쓸수있는 권한이없다.
그래서 별도 디렉토리를 만들어서 써야한다.
> mkdir /tmp/nor1
> cd /tmp/nor1
> vim shl.sh
#!/bin/bash

cat /etc/bandit_pass/bandit24 > /tmp/nor1/normal_text

이렇게 하고 저장하면 

> chmod 777 shl.sh (24에게도 권한줘야한다)
> chmod 777 /tmp/nor1
> cp shl.sh /var/spool/bandit24/foo 이렇게하고 기다리면 /tmp/nor1에 normal_text가 만들어진다.

1분이 지나면 이 쉘파일도 삭제된다.
삭제가 됬다는 건 위에서 /tmp/nor1/normal_text에 비밀번호가 들어가있다는 말이다.
```
```
#)24->25
문제가 30002포트에 핀코드 4자리 입력하면된다.
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/12.PNG" width="700" height="200" /><br><br>

```
근데 4자리 숫자를 찾아야하네...

* 무작위 대입 공격

> mkdir bandit24_normaltic
> vi test.sh
#!/bin/bash //이 스크립트는 /bin/bash쉘로 실행하겠다.

for i in {1..9}
do
    echo $i
done

실행하면
1
2
3
4
5
6
7
8
9

for i in {0000..9999}
do
    echo "UoMYTrfrBF~ $i"
done

//결과를 저쪽에다 넘긴다.
//grep -v 는 특정글자가 포함되지 않은 것만 찾겠다.
> ./test.sh | nc localhost 30002 | grep -v "Wrong"
```
```
#)25->26
> ls -l로 보면 bandit26.sshkey가 있다.
> ssh -i bandit26.sshkey bandit26@localhost -p 2220
근데 로그인이 안됨.
문제에서는 /bin/bash가 아니라고 나온다. 그러면 로그인쉘이 뭔지보야됨
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/13.PNG" width="700" height="200" /><br><br>

```
보니까 로그인하면 /usr/bin/showtext 를 실행한다고 나옴.

> cat /usr/bin/showtext
#!/bin/sh

export TERM=linux

more ~/text.txt
exit:0 //종료 시켜버리니까 바로 접속이 종료됬던거임
```
```
more의 특징은 cat과 다르게 다 보여주는게 아니라
화면에 출력할 수 있는 양만 보여준다. 터미널 창 크기만큼!!!

more를 실행하면 vi를 실행시킬 수 있고 shell을 실행시킬수있다.

그렇다는 거는 창을 작게해서 more상태로 만들자. 그러면 로그인해도
바로 접속종료가 안되고 more상태로 될것이다 아래 사진처럼
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/14.PNG" width="700" height="100" /><br><br>


```
저 상황에서 "v" 를 누르면 vi모드로 들어간다.
여기서 쉘을 실행시키는 법은

:set shell=/bin/bash

엔터치면 배쉬셀이 실행되고
다시
:sh 이렇게 하면 아까 지정했던 쉘이 실행된다.

이렇게되면 bandit26으로 로그인이 된 걸 볼 수 있다.
```
```
#)26->27
26의 디렉토리 보니까 setuid가 설정되있네 bandit27-do(27의 계정으로 실행됨)

> ./bandit27-do id                      실제로 적용되있는 계정이라는 뜻
uid=11026(bandit26) gid=11026(bandit26) euid=11027(bandit27) groups=11026(bandit26)

> ./bandit27-do /bin/sh
> id 입력하면 위와 똑같이 뜬다. 
그러면 이제 쉘은 연결됐으니 
> cat /etc/bandit_pass/bandit27 이렇게 하면 27의 비번이나옴. 
```
```
#)27->28
git주소가 ssh://bandit27-git@localhost/home/bandit27-git/repo인데
bandit27-git의 비밀번호는 bandit27의 비밀번호와 같다.라는게 문제

> mkdir /tmp/bandit27_normaltic
> git clone ssh://bandit27-git@localhost:2220/home/bandit27-git/repo
> 27의 비번입력하면 다운로드 됨 repo 디렉토리가
> cd repo
README 가 있는데 이걸 읽으면 비번이있다.
```
```
#)28->29
> mkdir /tmp/bandit28_normaltic
> git clone ssh://bandit28-git@localhost:2220/home/bandit28-git/repo
README.md를 읽어보니까
- username: bandit29
- password: xxxxxxxxxx

이러면 이제 패스워드가 뚫릴 일은 없겠지? 하고 올렸는데 개발자가
하지만, 히스토리를 이전으로 돌릴 수 있다.

> git log 를 보면
commit 내역이 있는데

> git checkout 커밋ID 
이렇게 하면 커밋이전으로 돌아 갈 수 있다.
> cat README.md 를하면 비밀번호를 볼 수 있다.

이렇게 ssh로 들어가면 29로 들어 갈 수 있다.
```
```
#)29->30
> git clone ssh://bandit29-git@localhost:2220/home/bandit29-git/repo
README.md 파일을 보면
-username : bandit30
-password : <no passwords in production!>

git log 로 이전버전으로 돌아가도 아예 없다...

git에는 브랜치라는 개념이있는데
-- main (모든개발자들이 이길을 걷고 있는데 다른팀원이 어? 이거 만들려고 하는 프로젝트에서 조금만 수정하면되겠는데? 하고 myproject길을 만듬)
   ---> myproject

이렇게 총 두가지 갈림길이 생김.
저 두가지 경로를 나중에 또 합칠 수도 있다.

근데 문제를 보니 예측상 개발,배포를 따로 만든거 같다.
-- main
  --> dev
  --> pro

-password : <no passwords in production!> 이런거 보니까 개발버전에서는
비밀번호가 있지 않을까?

> git branch -a (전체브랜치출력)
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/15.PNG" width="700" height="100" /><br><br>

```
개발쪽으로 이동
> git checkout remotes/origin/dev
경로는 지금 repo경로이고
안에 README.md가 있는데 거기에 비밀번호가 적혀있다.
```
```
#)30->31
> git clone ssh://bandit30-git@localhost:2220/home/bandit30-git/repo
README.md를 보면 아무것도 없음

git log,branch봐도 머 없네..

git 에는 tag가 있는데 꼬리표같은 개념 남기고싶은 메모 같은

> git tag
secret 이있네..

> git show secret
여기서나오는 비밀번호가 31의 비밀번호이다.
```
```
#)31->32
> git clone ssh://bandit31-git@localhost:2220/home/bandit31-git/repo
README.md를 보면

This time your task is to push a file to the remote repository.

Details:
    File name: key.txt
    Content: "May I come in?"
    Branch: master

즉, 이번에는 업로드해라 이말이다.

> vim key.txt
May I come in?
저장

> git add key.txt
이렇게 하면 .gitignore를 보라고 하는데
*.txt로 적혀있는데 즉, txt는 올리지마라 이말이다.
그래서 강제로

> git add -f key.txt
> git commt -m "Upload key.txt"
> git push -u origin master
비밀번호는 31의 비밀번호를 넣으면된다.
메시지에 비밀번호가 나온다. 32의
```
```
#)32->33
위에서 33으로 로그인 했을때 쉘로 장난쳐놨네..
```
<img src="https://raw.githubusercontent.com/seongdongjo/Security/refs/heads/main/%ED%95%B4%ED%82%B9%EB%B3%B4%EC%95%88%EA%B4%80%EB%A0%A8img/16.PNG" width="700" height="100" /><br><br>

```
에러를 보니 LS를 못찾네 대문자로 변환하네..

그전에 인자의 개념을 보면

> vim test.sh
#!/bin/bash

echo "Your Argument: $1"

> ./test.sh normaltic (이게 인자다 첫번째인자 $1)
Your Arigument: normaltic

근데 $0 도 있다
> vim test.sh
#!/bin/bash

echo "Command : $0" (명령어를 인식)
echo "Your Argument : $1"

> ./test.sh normaltic
Command : ./test.sh
Your Argument : normaltic 

그래서 그냥
> echo $0을 치면
/usr/bin/zsh 이 나온다. 쉘을 실행시키니까

다시 그러면 32로 로그인해서
> $0 이렇게하면 쉘이 실행될거다.
왜냐하면 환경변수에 설정 되어있을 거다.
이렇게 되면 정상적으로 쉘로 연결되고
> cat /etc/bandit_pass/bandit33 에 비밀번호가 있다.
```
```
라스트 패스란 비밀번호 관리 프로그램이다
우리가 계정마다 비밀번호를 다르게 설정해서 기억하는건 귀찮다.
그래서 계정과 비밀번호를 등록하면 알아서 계정만 입력해도 비밀번호가 입력되는 프로그램

이게 왜나왔겠냐? 특수문자입력해달라 8문자입력해달라 생일 등 못쓴다. 그래서 어렵다..
그래서 이런 프로그램이 나와서 관리하는 것이다.

어떻게 관리되냐면 우리가 입력한 계정 비밀번호가 라스트패스 클라우드에 저장이된다.
즉, 클라우드가 뚫리면 다 뚫린다.

과거에 라스트패스 클라우드가 털린적이 있었다.
다행히 암호화해서 저장해놨는데 복호화는 라스트패스 계정의 비밀번호를 알아야 풀수있어서
어느정도 안전했다.

그래서 라스트패스의 계정의 비밀번호를 복잡하게 또 설정해야했다.

그래서 균형이 중요하다 안전과 사용의 편안함
공인인증서, activex 이런거 안전하지만 사용자들이 불편하니까 결국에는 다른거쓰잖아

아이디/비밀번호는 지식기반이고
휴대폰인증은 소지기반이다.

소지기반으로만 인증을 하면 또 문제가 생긴다.
휴대폰이 털리면 다 털리니까..


---------
애플은 패쇄정책으로 유명한데
자기들이 만든프로그램을 절대 공유안한다. 안드로이드와 다르게.
근데 반대로 안드로이드는 취약점을 많이 찾아서 보완을 많이함.

애플은 분석이 되기 시작하면 취약점 찾기가 오히려 쉬워진다.

둘중에서 뭐가 안전하냐는 어렵다.

애플이 이렇게 까다로워서 일어난 사건이 있다.
미국에 테러범의 휴대폰을 압수했는데 FBI가 비밀번호를 4자리 계속 반복했는데
아이폰5부터 비밀번호10회이상 틀리면 데이터가 삭제가 되는 기능이 추가가 됐다.

그동안 FBI가 저렇게 풀었는데 이제 못푸는 거네...
그래서 범죄자에게 풀어달라고하는데 범죄자는 당연히 싫다고 함.

그래서 애플에게 풀어달라고 부탁했는데 팀쿡이 거절을 한다.
근데 애플이 이미 필요한 정보는 줬다고 했음, FBI가 아이폰에 침입할 수 있는 백도어를 만들어
달라고 함. 그래서 애플은 다른 아이폰 사용자의 잠금장치를 해제하는데 악용이 될 수 있다고
애플에게 답장이 온다. FBI가 이번한번만 사용하겠다 하지만 거절당함.

그래서 FBI는 돈을 투자해서 해킹툴을 산다. 140만달러를 넘게써서 20억정도
그래서 이사건을 처리했다.

이 해킹툴 뭐야?.. 결국 뚫린다는 거잖아..
애플이 FBI에게 요청을함 취약점 알려달라고
근데 FBI는 싫다고 함.

또 하나의 사건이 있는데 영국이 애플에게 iCloud 백도어 설치를 요구했다.
왜??
애플에는 최근에 Advanced Data Protection이라는 기능이 추가됐는데
ADP라고도 한다.

iCloud에 있는 데이터를 암호화 해주는 기능이 있다.
근데 이때까지는 수사협조로 iCloud 범죄자가 쓰던 데이터는 다 줬는데
이번에는 암호화가 돼버리니까 이거는 애플조차 풀 수가 없다.

이걸 풀려면 사용자의 비밀번호 입력이 있어야한다.

그레서 영국이 iCloud에 백도어를 해서 복호화 할수 있는 프로그램을 만들어두고
ADP를 도입해라라는 것이다.
근데 이거는 말이안되는 것이다. 백도어 자체를 만든다는것이 전 세계의 데이터를 본다는것인데..

애플은 여기에 답변조차 안함.

-----------
#)개인정보수집논란
딥시크에 가입을 보면
우리는 지역 사회의 안전과 안녕을 보호하기 위해 사용자입력, 출력 및 기타 정보를 검토합니다.
라고 되어있다.

또 내용을 보면 중화 인민 공화국에 있는 안전한 서버에 저장합니다 라고 되어있다.

딥시크는 오픈소스인데
Wiz의 연구원들이 딥시크를 사용하던 중에 이상한점을 발견한다.

딥시크가 통신하고 있는 도메인 두개를 발견한다.
보니까 클릭하우스라는 데이터베이스인데 그래서 저 주소를 입력하고 들어가봤다.

로그인없이 데이터베이스에 들어 갈 수 있었다...
쿼리, 사용자가 남긴 질문들 다 볼 수 있었다...

지금은 막혀있다.

또 다른 사건이 있었는데
Cisco 연구원들이 탈옥(개발자의 통제를 벗어나게 하는 것)이 가능한지를 테스트해봤다.
딥시크는 탈옥 성공율이 100%로 나왔다.
그냥 인터넷에 돌아다니는 탈옥스크립트를 넣어도 뚫린다는 것이다.

그래서 해커들이 이럴때 놓치지 않고 파이썬패키지에 라이브러리2개를 올렸는데
딥시크에 사용자의 id,ip등 정보를 뽑아내는 코드까지 숨겨놨음.
코드를 보면 주석처리까지 잘돼있음 그 말은 딥시크에게 "악성코드 만들어줘" 라고 헸을 가능성도 있다.

파이썬에서는 빠르게 차단했지만 그 짧은 시간에도 다운 받은 국가들이 있었다.

그만큼 딥시크가 뜨껍다는 것이고

깃헙에도 올라올 수 있다.

또 다른 논란이있는데
미국은 딥시크를 금지해야한다. 대만도 일반도 사용금지를 하고있다.
딥시크가 오픈소스라고 하지만 깃헙에 올렸다고 오픈소스는 아니다.
오픈소스율을 보면 chatgpt보다 더 낮다.

마케팅이 아니냐? 즉, 우리는 깃허브 묻었으니 오픈소스에요~~ 투명해요~~ 이런거지..

핵심코드는 오픈안하고 껍데기만 올리고...

-----------
슬랙을 타겟으로해서 피싱사이트를 만들었는데
구글에서 슬랙으로 검색을 하면
주소가 같은게 두개다.

스폰서라고 마크가 있는데 거기 주소에 점3개짜리는 클릭해서 광고올린 사람 정보를 자세히보면
위치가 홍콩이고 자세히 광고를 보면 이상한 광고를 하고있음..

쩃든 사이트를 들어가보면 도메인도 slack.com으로 되여있다.
하지만 이건 고도의 전략이다.

바로 Malvertising이라는 것인데
Malicious advertising(Malware + Ads의 합성어)

광고를 활용한 해킹기법이다.

아무리 봐도 정상사이트인데...

구글도 노력을 하는데 광고에 연결되는 사이트가 의심되는 링크인지 검증을 한다.
그래서 해커들은 Ad Cook이라는 작업을 한다.
정상처럼 보이기 위해서 평판을 쌓는 기간을 말한다.

처음에는 정상적인 링크를 연결해놓는다.
진짜 slack링크랑 일단 연결해둔다. 어라 공짜광고인가?..
구글은 음 진짜 slack.com 도메인이 잖아?
그래서 내비둔다.

내가 도메인을 오늘 사면 내일 공격이 바로 활용을 잘 안한다.
왜냐면 일단 의심되는 도메인으로 찍히니까.
그래서 평판을 쌓는 기간이 필요한데.
해커들은 어떻게 하냐면 도메인을 20개씩정도 사서 숙성을 시킨다.

3년정도 재워놓고 도메인을 하나씩 꺼내쓴다.

해당 사이트가 활동하는 걸 포착했는데 사이트에 들어가보니까 주소가 바껴있네..
slack-windows-download.com이런식으로

이제 해커들이 움직이기 시작하구나.
근데 들어가보니 악성스크립트도 없고, 악성코드도 없었다.
그냥 정상페이지 였다.

근데 구글이 정상이 링크에서 비정상링크로 바꿨다고 못알아차리는게 아니다.

그래서 해커들은 클릭사기탐지기능을 활용한다.
광고주는 클릭율에 따라서 광고비를 준다.

애드센스 수익창출자는 매크로 개꿀하면서 광고비를 받아가는것이다.

그래서 이런것들을 탐지하기 위해서 서비스중하나가 클릭가드가 있다.
정상적인 클릭인지 탐지한다.

해커가 이걸어떻게 활용하느냐
A라는 링크를 클릭사기탐지 서비스(클릭가드)에 등록해둔다.
그리고 이 링크를 구글에다가 걸어둔다.

이 클릭 탐지서비스를 클릭을 했을때 진짜클릭인지 로봇이 한 클릭인지를 보고
진짜 사람이 클릭했다고 판단을 하면 그떄 A로 보내준다.

그럼 문제가 뭐냐 구글광고에다가 저 클릭사기탐지서비스 링크를 넣어두는 것이다.
구글직원들이 하나씩 다 안들어가본다.
그렇기때문에 A라는 사이트를 검증을 못하는 상황이 발생한다.

클릭하면 A사이트로 바로가는게 아니라
처음에는 io.clickguard.com~ 클릭사기탐지를 한번거치고
pixcel.ever~.next Adobe사의 광고트래커 경유
singular link라고 해서 링크를 관리하는 사이트를 또 거치고
clocking domain이라고해서 여기서 나쁜사이트로 보낼지 정상사이트로 보낼지
정한다. 즉, 사람마다 사이트가 다르게 보인다.

그래서 결론은 다운로드 할때 도메인이 맞는지 보고 다운받는 파일이 맞는지도 봐야한다.

-------------------------------
#)어나니머스
- 가입 방법은 없다. 붉은 악마처럼 빨간티셔츠입고 거리로나가 응원하는 거처럼
어나니머스가 프로젝트를 하면 거기에 참여만 하면된다.

2014년에 어나니머스가 대한민국정부를 상대로 경고를 날렸다.
실제 영상을 올렸다.

4월14일에 해킹한다고 그랬었다.
그전에 북한도 해킹해서 북한과관련된 DB도 다 유출하고 그랬음.

그당시 모든 기관에서 초비상사태에 걸렸는데 조금 이상한점이 있다.
근데, 또 다른 어나니머스가 나와서 "죄송합니다 그거 저희 아닙니다" 라고 함.

그래서 알고 보니 철부지 중고생들이었다. 해킹방법도 제대로 알지 못하는 그냥 중학생들이었다.
그래서 한국정부기관홈페이지 URL이 ~go.kr 인데 go를 빼먹어서 엉뚱한 사이트를 공격하고
그마저도 실패를 했다.

이 사례를 보면 어나니머스는 누구나 가입할 수 있다라는 것이다.
그래서 트윗에 보면 다른 어나니머스가 손절을 한다. 저거 우리아니다 라고

-------------------------------
어나니머스는 선동을 통해서 해킹을 한다.
우리 다같이해요~~ 사람을 모으는 것이다. 이게 어나니머스가 해킹 스타일이다.

어나니머스가 올린 오퍼레이션(프로젝트)들에 참여를 하는 인원들이 어나니머스인것이다.

* 어나니머스의 출발.
 4chan 이라는 사이트에서 나왔다.
 선정적이고 이상한 게시물이 많다. 크리스포터풀이라는 사람이 만들었다.
 이사람은 2chan의 광팬이였는데 일본에 있는 커뮤니티사이트였는데 애니메이션 사진올리고 그런 사이트
 
 그래서 그걸보고 영어버전으로 4chan으로 만들었다.
 
원래는 4chan 사이트가 글작성시에
닉네임:
제목:
내용:

이런양식이었는데

근데, Shii라는 프로그래머가 게시판은 자고로 익명으로 활동해야돼~~ 라고 말함
크리스토퍼 풀은 감동받음.. 바로 Shii라는 사람을 관리자로 올려버림.

Forced_Anon이라는 기능을 만듬.
강제 익명시스템을 도입한 것임.

근데, 실제로는 막 좋아하는 것보다는 사용자들이 두팀으로 나눠어졌음.
- 익명을 반대하는 부류      vs  익명
익명을 반대하는 부류는 트립코드를 쓰는데
제목: 안녕하세요
_normaltic 이렇게 짤막하게 내가 누군지 쓰는 방식

이렇게 두팀으로 갈라지면 어떻게 될까?? -> 싸우게 된다.

익명파는 닉념파에게 사이너라고 글쓸때마다 사인을 하니? 라는 조롱을 하고
닉넴파는 익명파에게 어나니머스라고 조롱을 한다.

결국에는 어나니머스가 이겼다. 익명이라서 그냥 막욕하고 그러다보니
이렇게 4chan 사이트는 익명이 자리잡게된다.
이 어나니머스가 여기에서 나오게 된것이다.

그러면 4chan은 어떻게 될까? -> 극단적, 선정적 등이다.
트롤링을 하면서 놀았는데 멀쩡한 사람을 탈탈 터는 것이다.
신상털고 막 그랬음.

예로 4chan이 트롤링으로 저스틴비버가 예전에 어디에서 콘서트할지 투표 올린적이 있었는데
그때 4chan애들이 몰려가서 북한으로 투표헤서 북한으로 투표결과가 나오고 그랬음.

잔인한 장난도 하고 그랬음.

-------------------------------
이 4chan에서 어나니머스로 인정받은 사건이있다.

* 채놀로지
그 당시에 사이언톨로지라는 사이비종교가 있었는데 톰크루즈가 홍보도 했었던.
이 당시에는 사이언톨로지가 돈도많고 인지도가 높았음.

사이언톨로지를 공격했는데 트롤링을 시작하는데
1. 장난전화
2. 전화/팩스 테러(종이를 쌔까맣게 해서)
3. 디도스(툴이 아니라 대량의 네트워크를 만드는 웹사이트를 이용하거나, 동시접속해서 새로고침 등)

이러다가 사회의 주목을 받게 된다.
사이언톨로지가 그 당시에는 인식이 안좋았는데 사람들은 어? 사이언톨로지를 공격하는
어나니머스가 있다? 뉴스에 자꾸나오니까

어나니머스들이 흥분의 도가니가 됨.
우리이거 장난으로 끝내지말고 제대로 해보자..

작전이름을 짜는데 그게 채놀로지이다.
4chan의 chan + 사이언톨로지

----------------------------------
채놀로지를 제대로 할려면 단톡방이 필요한데?
그 당시에 IRC로 넘어가기 시작한다.(4chan -> IRC시스템으로)

마케팅팀도 따로 만든다. 동영상도 만들고 심볼도 만들고 처음에는
영상만 만들었다. 심볼은 없었음.

이 당시에 실제 해킹 능력 보유자들이 참여한다.
뭐? F5눌러서 디도스했다고??

프로그램 만들어줄게. 라고 해서 Low Orbit Ion Cannon (LOIC)만들어서 뿌린다.
URL 적고 공격버튼 누르면 디도스 공격을 하는 방식.

근데 이렇게 해킹만하니까 사이언톨로지는 거대해서 이런거는 신경도 안썼음.

그래서, 다른 작전을 세움.
우리 물리해킹가자. 오프라인시위를 벌이는데 그떄 등장한게 어나니머스 가면이다.

이 가면이 채놀로지에서 시작된것이다.(40분)


#) 채놀로지 작전 결과 정리
사이언톨로지 안망함. 점점 관심이 시들시들해지고 사람들이 떠남.
그러면,, 결과는?
FBI가 LOIC프로그램 쓴 사람 다잡혔음. 당시에 LOIC에는 IP우회하는 기능이 없었음.
운영진들이나 해킹하는 사람들만 vpn쓰거나 우회했음.

교훈은 일반참여자들이 선동당해서 처벌을 받음...

------------------------
* 어나니머스의 정체성
처음에는 트롤이였는데 사이언톨로지를 공격하면서 정의구현 집단으로 바뀌기 시작하면서
기존 트롤과 새로들어온 정의구현집단과 대립이 발생함

결국에는 머 공존하긴함

2년간 아무 소식없다가 새로운 타겟이 생겼는데
에이플렉스라는 회사이다.

이 회사는 인도회사인데 우리는 영화 산업을 지키는 역군이다 라고 주장하는 회사이며
불법토렌트를 막고자 하는 회사

그럼 어떻게 불법토렌트 막을거야? -> 디도스를 날려버릴거야

근데, 어나니머스들은 화가 났음. 자기들이 불법토렌트로 못보니까
그래서 어나니머스가 에이플렉스에게 선전포고를 하는데
"정보의 자유를 침해하는 저 에이플렉스 놈들 우리가간다!" 이런 이유로 공격하는데

난관이 생기는데
이당시에 IRC네트워크를 썼는데 IRC 호스트들이(관리자)
어쭈? 내 채널에 들어와서 불법적인 일을 헤?? 계속 어나니머스들을 쫓아냈음.

그래서 우리만의 IRC 네트워크를 만들자 해서
어논옵스라는 IRC 네트워크가 만들어진다.
여기가 실제로 어나니머스의 근거지가 된다.

어논옵스의 대중들의 반응 : 불법사이트 지킬려고 너희 그런짓하는거야?
이런 싸늘한 반응 이었다.

어나니머스의 입장은 어? 니네도 불법사이트 쓰고 싶은거 아니였나?...
이 상황을 어떻게 하지..

그래서 우리 제대로 된 상대를 공격하자

위키리크스 사이트를 공격하게 된다.

기밀문서를 올려두는 이상한 사이트다. 정보는 자유로워야돼 하면서

케냐, 중동 국가 기밀문서를 막 유출했음

그당시 미국정부 반응은 재밋게 살펴보다가

2010년에 25만건의 내부 메시지, 외교문건, 미국전략을 공개하니까
미국이 손을 볼려고 하니까 위키리크스에 붙어있던 회사들이 빠른 손설을 함.
즉, 여러 미국회사들이 손절을 함. 그리고 페이팔도 손절을 함.

이때 어나니머스는 어? 이거다.. 페이팔하면 금융기관이 생각남.
페이팔(금융기관)을 타겟으로 삼는다. 이유는 이미지세탁

이게 페이백작전인데
실제 작전이 성공하고 페이팔 서버가 다운이 됨.

**비하인드 스토리
12월 8일 공격당시 (페이팔공격)
어논옵스 네트워크에 모이는데 그 당시에 4500명이 모였다.

이떄는 많은 인원이였다.

LOIC을 그대로 4500명이 돌렸다.

근데.. 아무 효과가 없었다.
사이트가 느려지긴 했는데 접속을 잘됐다.

그레서 운영진들이 공격이 안먹힐까봐 봇넷 운영자들을 2명 섭외해서
총 12만대 -> 공격시작 3초만에 서버가 다 죽어버림.

근데 운영자들은 이 사실을 숨김. 4500명에게는 비밀로 한것임
사기가 저하 될까봐..

즉, 운영자들은 숨기고 싶어하고
봇넷운영자들은 알리고 싶어했음.

-> 이렇게 서버가 다운되니까 여러 봇넷 주인들이 지원해줌. 그래서 어나니머스의 디도스 공격이
더 강해졌다. 봇넷 주인들이 합류한이유는 자기들이 이거 우리가 했다 자랑도 할겸 알리고싶어서.

어나니머스 운영자들은 기고만장해 있는 상태에서

페이팔은 죽었으니 야 아마존 너네들 우리 위키리크스 내쫒았지? 정의구현해야겠다 하면서
사람들이 모여듬. 실시간으로 서버가 죽으니까 재밌으니까

오전 10시에 공격을 시작할려고 다 모일려고했는데 봇넷주인들이 안옴.
채팅창에서는 우리 언제 시작해요? 운영진들은 봇넷주인들이 안왔다고는 못하고 기달려달라고함.

근데 계속안오니까 일정변경을 했는데 오후2시

근데 느닷없이 오후 1시 30에 어논옵스 네트워크가 터짐.. 엥?

알고보니 봇넷주인들이 배신을 때렸음.

왜냐하면 운영진들이 봇넷주인들을 무시하게되면서(기고만장) 배신을 함.이렇게 어논옵스가 터지고 죽음.

* 결론
페이백 작전의 결말은 어나니머스 운영진, 봇넷주인들이 잡히진 않고 어나니머스 회원만 잡힘
LOIC 프로그램을 쓴..

LOIC을 나중에 알고보니 공격에 참여한 사람들의 IP주소를 어떤 특정 서버에 보내고 있었음.
억울하지 잡힌 회원들은 사실 LOIC프로그램이 서버 다운시키는데는 큰효과가 없었으니까. 1 16 36

```
아론 바 라는 군인출신인데 전역하고 나서 보안업체에 취직을 하는데
국방방위업체에 취직을 한다.

이후에 취업제안이 들어오는데 대표(사장님)로 스카웃 되는데
제안한 사람은 HB 개리라는 회사를 운영하는 사람인데
너 나랑 같이 일하나만 하자! 나 회사차릴건데 너가 와서 사장해라
그게 HB 개리 페더럴인데 자회사를 하나 둔것이다. 
그러니까 HB 개리 안에 HB 개리 페더럴이 있다.

아론은 사장이 되서 내가 이 회사를 엄청 키우겠다 라는 다짐을 하고
운영을 하는데 그 당시에 아론 바는 회사에서 잠을자면서 회사에 몰두하는데

그런데 HB 개리 페더럴에서는 주로 어떤 일을 했냐하면
-> 소셜 미디어 활용 방법을 교육하는 서비스를 했다.

SNS에서 사람들을 염탐하는 방법, 모니터링 하는 방법을 연구하고
교육하는 회사이고 이게 메인서비스였다. 이게 HB개리 페더럴 이였다.

이회사가 초창기에는 경영난이였다.

* 기회포착
헌튼앤윌리엄이라는 회사가 있는데 프로젝트 공고를 하는데
그전에 기존 고객들이 미국 상공회의소, 뱅크오브아메리카 있었는데

뱅크오브아메리카가 고민이있었음. 위키리크스가 우리 뱅크오브아메리카
기밀문서 가지고 있는데 공개한다? 라고 협박을 하던 시기였음.

그래서 이런거 해결할수있는 사람있어? 이게 프로젝트 였음,
이때, 아론바는 이떄다 싶어서 "그거 저희가 할게요 신상까지 파악해서 드릴게요"

근데, 결국에는 수주가 안됨. 

아론바는 이제 급해져서 B-Sides는 보안컨퍼런스인데 이런곳에나가서 우리
실력을 보여주자. 어떻게 정보를털고 신상을터는지 보여줘여겠다.

누구를 털건가?? 그때 눈에 들어온게 "어나니머스"였다.

아론바는 어나니머스의 복수가 있을거라고는 예상했지만 그당시 어나니머스는
실력이 뛰어나지 않았기 때문에 그냥 디도스 몇번날릴거니까 사이트 잠깐 닫아놓자
라고만 생각했음.

아론바의 작전은
1. 어나니머스 잠입 -> IRC네트워크에 잠입해서 채팅방에서 활동
새로들어온 열혈 신입 인척

2. 조사
sns 가짜계정 여러개를 만들어서 sns에서 어나니머스 추종자들을 팔로우해서
채팅방에서 퇴장한 시간과 sns활동한 시간을 비교해서 하나하나 매칭을 했음.

3. 결과
어나니머스의 지지자, 활동멤버, 리더들을 신상정보를 파악했음. 한달정도

그리고 이거를 컨퍼런스에 발표를 하러갔는데 쨋든 회장님의 허락을 받아야하는데
회장은 언론사에 떡밥을 미리 뿌리고 하자 라고 함.

그래서 컨퍼런스전인데도 사람들이 엄청 관심이 많았다.
FBI에도 아론바에게 인터뷰 요청을 했었음.
그당시 FBI도 어나니머스를 잡기위해서 혈안이 되있었음.

그럼 어나니머스의 입장은 어땟을까??
그당시 운영진들은 초비상이였다.
다들 우리 이러다가 잡히는거아니야?..

"야 HB 개리 페더럴" 공격하자.
어나니머스들도 본인들이 살려면 디도스만으로는 안되는걸 알고있다.

그러면 취약점을 찾아라..

> HB 개리 페더럴 사이트에서 SQL Injection 취약점이 발견됨.
결국 회원정보를 털었음 아이디/비밀번호/이름 등
근데 HB개리 페터럴 회사가 보안업체회사니까 암호가 해쉬값으로 암호화가
되어있었음.

해쉬를 쭉 크랙하는데 2개가 풀렸는데
대박인건 아론바의 계정의 아이디/비밀번호 평문을 얻게된것이다.

-> 다른사이트에도 로그인해보는데 이게바로 크리덴셜 스터핑이다.
다 로그인된다.. 비밀번호를 다 똑같이 썻음.

더 큰 문제가 일어나는데 이메일 계정도 똑같았다.

그래서 이걸 어떻게 활용할까 고민했음.

이메일 내역을 뒤져보니까 어나니머스 잠입까지 내용이 있었다.
그래서 어나니머스 채팅방을 두개 만든다. 아론바가 있는 , 없는 방

어나니머스는 아론바에게 "야 우리 보안회사 해킹할건데 같이할래?" 
아론바는 "그래 좋아"
어나니머스 : 땡땡땡 위치에 있어.
아론바: 응?
어나니머스: 잠시만
아론의 트위터에 갑자기 이상한 글이 올라온다.

이때, 아론은 알았다. 
어나니머스는 아론의 트위터에 주민번호, 전화번호 등 싹다 공개한다.

이 당시에 아론은 대응을 하는데 비밀번호 싹다바꾸고 2차인증 걸고

어나니머스는 이미 이메일 내역들을 싹다 가지고 있다.

아론바가 다시 어나니머스 채팅방에 들어가서 이메일만은 공개하지 말아달라고
부탁함.

어나니머스는 토렌트에 싹다 올려버림.
이렇게 이메일 내역이 싹다 공개됨.

이 해킹사건이후로 아론의 사생활이 없어져버렸음.

아론한테 이런일도 있었음. 사람들이 갑자기 찾아와서 아론바의 생가라고 하면서
올때도 있었음.

결국에는 이사를 가게된다.

쨋든 아론의 메일이 공개됨으로써 다른 수많은 음모들이 들어있었는데 총 6만건.
6만건을 하나씩 확인할 수 없으니 그냥 어나니머스가 인터넷에 공개해버림.

아론은 결국 대표직에서 물러나지만 어나니머스의 신상은 퍼지지 않았음.

이게 HB 개리 패더럴 사건이다.

---------------------
이런 사건이 비이성적인 행동이기때문에 어나니머스를 싫어하는 안티들이 생겨나는데.

트위터에 @FakeGreggHoush 계정이 활동하는데 "어나니머스 극 안티" 계정이다.

하우쉬(어나니머스)라는 사람이 있었는데 트위터 재 "제니퍼 에믹" 같아.
제니퍼 에믹은 전에 채놀로지 프로젝트 할때 같이 활동하던 어나니머스였다.
채놀로지가 정의로웠고 그런 활동들 때문에 가입했었는데 그 이후에 트롤링하고 욕하고
그런거보니까 제니퍼 에믹이 어나니머스를 나왔었음. 그래서 어나니머스들은 쟤 말투가
"제니퍼 에믹" 같은데? 라고 추측.

또 다른 어나니머스인 로렐라이도 있었는데 재니퍼 에믹의 친한 친구 였기때문에 놀란다.
그래서 로렐라이는 제니퍼 에믹에게 전화해서 물어봄. 나 그런 활동안한지 오래됐어라고
제니퍼 에믹이 말함.

그래서 로렐라이는 어나니머스 채팅바에 "야 그 계정 에믹 아니래 그거 내생각에
하우쉬(어나니머스)가 꾸며낸 일인거 같애 모함이야"

로렐라이는 직접 @FakeGreggHoush에게 연락을 해서 "그러면 니가 제니퍼 에믹이 아니라는 증거를 보내줘" 라고 함.

당연히 쉽게 안주니까 로렐라이는 "그러면 우리 HB 개리 해킹할때 대화 내역 줄게" 라고 함. 로렐라이는 친구인 제니퍼 에믹을 지키기 위해 이렇게 까지 하고 @FakeGreggHoush한테 얻은 증거는 시덥잖은 그런 증거였음.

근데 반전이 있는게..
@FakeGreggHoush가 제니퍼 에믹이 맞았다..
어나니머스가 변질이 되면서 충격을 받고 어나니머스를 무너뜨리기 위해서 혈안이 되어있었음.

--------------------
근데 문제가 이제 HB 개리 해킹 대화내역이 문제가 되는데
이거 때문에 어나니머스 핵심멤버들이 잡혀가는데

어떻게 된일인가 하면..

일단 제니퍼 에믹은 어나니머스를 다 때려 잡아야 해서 몰래 그룹을 조직하는데
-> 백트레이스 시큐리티

이름이 왜 이러냐면
4chan으로 거슬러올라가서 "제시 슬러터"라는 소녀가 있었는데 유투버였음.
4chan이 제시 슬러터를 욕하고 악플쓰고 이랬는데 아무이유없이 근데 슬러터의 반응이 재밌어서 계속 했었는데 슬러터의 아버지가 나와서 막 욕하는 영상도 있음.
"니네들 다 잡을거야 백트레이스(다추적)해서 다 잡을거야"

이 영상이 올라가고 나서 4chan이 "백트레이스? 풉.."하면서 밈을 만들면서 놀리고그랬는데.

제니퍼 에믹이 "너네들 백트레이스로 우리 놀렸지? 그러면 내가 진짜 백트레이스해서 잡아줄거야" 라고 해서 백트레이스 시큐리티를 만든것임.

*추적 방법
스프레드시트를 켜서 닉넴을 쭉 적음. 그 닉넴을 이용해서 유투브,레딧,페이스북에다가
똑같이 찾아보니까 신상정보가 나오기 시작함.

그러던 중에 로렐라이에게서 HB 개리 해킹사건에서 대화내역을 얻게되고
대화내역에는 어나니머스의 주요 해커가 있는데 "Sabu"라는 사람이 대화에서 실수를 하나하는데
채팅방 링크를 하나 올리는데 "여기 백도어 계정 남아있어 너희 여기 링크 들어가봐"했는데
그 링크가 자기개인 사설서버 주소를 올림. 에믹은 사설서버에 들어가보니까 도요타 AE86 자동차 관련한 사이트로 연결됨.

음 Sabu라는 사람은 도요타라는 자동차 매니아구나~ 하면서 관련한 매니아사이트라던지, 유투브 영상이라던지 쏵 찾아서 Sabu의 신상정보를 알게된다. 

이름이 "헥터 자비에르 몽트세구르"이다.

* 백트레이스의 결과물
> 어나니머스의 신상 약 70명정도를 공개함. 여기서는 sabu의 정보도 들어가있음.

이걸본 어나니머스는 어떘을까?
예고도 없이 갑자기 뒤통수를 맞았는데.

근데 공개된 신상정보가 정확하지 않아서 신상정보가 일치하지 않은 사람은
"엥?ㅋㅋㅋㅋ 아닌데?"라고 하고.

신상정보가 맞는 사람은 "...."(숙연)
어나니머스 네임드(sabu, 로렐라이)

이떄까지 로렐라이는 에믹을 믿었다.

에믹이 한달뒤 보안컨퍼런스 - 데프콘(해킹대회)에 나오면서
에믹이 "백트레이스 시큐리티 공동 창립자가 접니다."라고 공개선언해버림.(유투브에도있음)
그리고 나서 로렐라이 차단을 해버림.

* 번외이야기
> 웨스턴보로 침례교회 해킹 사건

어나니머스들은 잘 진행이 안될때마다 6만건의 보물찾기 하듯이 아론바의
메일에 어떤 음로론이 있을까하면서 찾기도 했음.

지루하던 찰나에
웨스턴보로 침례교회 해킹이라는 프로젝트 공고를 냈음.
침례교회의 창시자의 손녀가 있었는데 "매건 펠프스 로퍼"
이 사람이 "어나니머스에게 도발을 함"

근데 어나니머스 핵심 운영진들은 심각해졌는데 왜냐하면
보통 해킹을 하자 하고 바로 하는것이 아니라 그전에 사전조사를 하고 취약점을 찾은 다음에
"우리 해킹하겠다" 라고 하고 진행을 하는게 정석이였다.

운영진들은 누가 저거 올렸어?? 
그래서 어나니머스들은 이때부터 밤샘작업이 들어감.
취약점 하나만 찾자!! 라는 마음으로 찾는데 다행히도 취약점을 찾는데

근데, 이걸 어떻게 활용하지??

"라이브 방송에 나가서 실시간으로 해킹하자" 라고 해서 
어나니머스 멤버중에 "토피어리"라는 네임드 해커가 있었는데 얼굴 가리고 나갔는데

"더 데이비드 패크맨 쇼" 라고 해서 데이비드라는 사람이 만든 쇼에
어나니머스 vs 웨스트보로침례교

사람들이 엄청 들어와서 이 해킹이 라이브로 진행됨. 

----------------------
* skt 해킹사건
처음에는 유심관련일부정보 만 이름, 전화번호, 결제방법 이런거만 노출되겠다했는데
나중에 보니 유심관련일부정보가 아니였다. 유심정보 그 자체였다.
전세계적으로 유심정보가 노출되었던적이 없었음.

유심에 담겨있는 IMSI(전화번호), IMEI(단말기식별번호), 유심식별번호 등
결론은 유심이 털렸다.

유심이 털렸다는건 해커가 내폰은 이제 니폰이다 라고 가능하다.
내번호로 통화,문자 등 다 받는다.

어떻게 유출되었는가 SKT에 악성코드가 발견이 되었다는데.
직원이 실수로 악성코드를 받았구나라고 생각했는데 HSS서버가 공격받아서 노출이 되었다고 하는데 보안전문가들은 생각하기 어려운게 HSS서버는 핵심 인프라 중의 핵심이다.

HSS라고 하면 DB라고 생각해도된다. 마스터DB -> 유심관련된 정보가 저장되어있는 곳.
젤 안쪽에 있는 DB이다. 코어 오브 코어니까.. 내부망에 숨겨둠.

어떻게 데이터가 나갔지?.. 그건 모르겠음.

SKT가 아직까지 어디까지 노출됬는지 모르기때문에 그냥 통으로 털렸다고 생각함.
SKT가 드디어 입장을 내는데 죄송합니다. 무상교체 해준다고 함.
최근 나온 사실은 9.7GB에 달하는 데이터가 외부로 전송된 사실을 확인했다고함.(텍스트로)

유출 데이터에는 전화번호, 유심 인증키값, 이동가입자식별번호(IMSI), 단말기고유식별번호(IMEI)등 유심관련 핵심정보들이 털림.

18일 오후 6시 9분 이상한 네트워크 트래픽을 감지했는데.
이 트래픽을 분석하니까 유심이네? 이게뭐지 비상이걸림
분석을 해보니 18일 오후 11시 20분에 원인을 찾았는데 과금분석장비에서 악성코드 발견.

과금분석장비라는것은 유심마다 쓰고있는 요금제,계좌번호 같은 것들이 여기에서 처리하는데
이게 유출되고있다? 라는걸 발견하는데
19일 오후 11시 40분에 HSS에서 데이터가 유출된 정황이 발견.

인터넷 - 업무망안에 과금분석장비 - 내부망(HSS, 기타장비들)

즉, 인터넷으로 과금분석장비(악성코드)가 트래픽을 보내고 과금분석장비는 HSS에 있는 데이터 전송.

29일에 과기정통부의 보고서가 나왔는데
유출데이터에 IMEI가 포함되지 않았다고 나오는데

앞에는 털렸다고 나왔는데.. 누구말이 맞는겨??
합리적인 의심은 일단 보통은 HSS에서 IMEI정보가 관리되지 않는다.
EIR이라는 장비에서 기기정보를 따로 관리하는데
그래서 만약에, EIR 서버를 빼고 검사를 했다고 하면 1차 보고서까지는 IMEI유출은
없다고 할 수는 있겠지.

근데, 내부망에 있는 HSS만 건드렸을까?? 합리적인 의심.

LG 유플러스에서 저번에 개인정보 30만명 - 과징금 68억원
그럼 2300만명 - 6800억? 근데 유심정보니까 더 많이 나올듯..

그럼 악성코드의 정체는 뭐지??
여러 종류가 있는데
> 인포스틸러 : 아이디,비밀번호등 수집해서 해커 컴퓨터로보내는 악성코드
> RAT(Remote Access Tool) : 원격에서 접속하기 위한 악성코드

그러면, SKT에서 발견된 악성코드는 BPF도어 공격이 관찰.
이것도 SKT에서 공식적으로 말한게 아님. 
트렌드마이크로 회사가 보고서를 냈는데 통신사에 BPF도어 공격이 발견되었다 라고 했는데
통신사가 한국에 3개밖에 없으니 SKT라고 추측하고있음.

SKT는 조사중이라고만 함..

근데 KISA에서 BPF도어 해시값을 글을 올림.
야~ 이거 BPF도어 악성코드 맞구나~~

BPF악성코드란?(Berkeley Packet Filter) - 버클리 패킷 필터
- 리눅스 커널의 기능중에 하나이다.
그렇기 때문에 프로세서의 형태로 보이지도 않고 탐지가 어렵다.

중국해커들이 이 악성코드를 많이 씀. 사실 중국이라고 단정할 수는 없지만
일단, github에 이 악성코드가 공개되어있어서 누구나 이걸로 공격할 수 있다.

그럼 BPF는 어떤 악성코드 종류냐??
소스코드를 보면 getshell이라는 함수가 있는데 결국에 쉘을 들어간다는 말은
컴퓨터에 들어간다는 의미이고 RAT이라는 악성코드 종류중에 하나이다. 

결국 내가 해당 시스템안에서 마음껏 조작할 수 있다.
과금분석장비에서 shell로 들어오고 그 shell로 HSS서버에 들어간것이다.

그러니까 HSS서버만 건드렸겠어?? 

이 악성코드 그러면 왜 과금분석장비에 있어??
어디에서 분명히 뚫려서 진입된거긴한데. 업무망도 사실 인터넷도 못들어감.

추측은
1. 고도화된 정밀한 의도한 공격
-> skt 전체가 털렸다고 생각을 해봐도?
-> 보통 해킹을 하면 다크웹에서 나 해킹했어요~ 
라고 그것도 대기업을 털었다? 난리가 난다. 
근데 아직 범죄자가 등장하지 않았고 그 정보를 판다는 글도 없고 어그로 끄는 사람도 없어. 그렇다는건 범죄자 해커가 아닐 가능성이 있다. 그렇다는건 국가기관의배후 가능성이 높다.

그러니까 왜 고도화된 공격이라고 하면 애초에 업무망안에 과금분석장비에 악성코드가 
있다는 것도 말이안되고 HSS에 들어간다는 것도 말이안됨.

2. 내부자의 도움
내부자의 도움 + 조직적인 해깅 그룹 

결론은 악성코드가 아직 어떻게 들어왔는지는 모름.

근데, 이렇게 일찍 발견된게 다행?이다
예전에 2022년에 KT에서 유심정보 빼돌려서 2.7억 가상화폐 피해가 있었다. KT망 사용자
근데, 이거 아직 원인이 밝혀지지 않음. 












